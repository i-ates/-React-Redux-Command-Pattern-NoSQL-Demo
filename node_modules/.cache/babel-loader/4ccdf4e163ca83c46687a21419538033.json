{"ast":null,"code":"function Invoker(newMiddleware) {\n  this._middleware = newMiddleware;\n  this._undoCommands = [];\n  this._redoCommands = [];\n}\n\n_c = Invoker;\n\nInvoker.prototype.execute = command => {\n  command.execute();\n\n  this._undoCommands.push(command);\n\n  this._redoCommands.clear();\n\n  return this;\n};\n\nInvoker.prototype.undo = () => {\n  try {\n    let command = this._undoCommands.pop();\n\n    command.unexecute();\n    redoCommands.push(command);\n  } catch (error) {}\n\n  return this;\n};\n\nInvoker.prototype.redo = () => {\n  try {\n    let command = redoCommands.pop();\n    command.execute();\n    undoCommands.push(command);\n  } catch (error) {}\n\n  return this;\n};\n\nInvoker.prototype.commit = () => {\n  middleware.commit();\n  return this;\n};\n\nInvoker.prototype.getMiddleware = () => {\n  return middleware;\n};\n\nInvoker.prototype.setMiddleware = newMiddleware => {\n  middleware = newMiddleware;\n};\n\nInvoker.prototype.getUndoCommands = () => {\n  return undoCommands;\n};\n\nInvoker.prototype.setUndoCommands = newUndoCommands => {\n  undoCommands = newUndoCommands;\n};\n\nInvoker.prototype.getRedoCommands = () => {\n  return redoCommands;\n};\n\nInvoker.prototype.setRedoCommands = newRedoCommands => {\n  redoCommands = newRedoCommands;\n};\n\nexport default Invoker;\n\nvar _c;\n\n$RefreshReg$(_c, \"Invoker\");","map":{"version":3,"sources":["/home/msk/Downloads/design/src/pattern/Invoker.js"],"names":["Invoker","newMiddleware","_middleware","_undoCommands","_redoCommands","prototype","execute","command","push","clear","undo","pop","unexecute","redoCommands","error","redo","undoCommands","commit","middleware","getMiddleware","setMiddleware","getUndoCommands","setUndoCommands","newUndoCommands","getRedoCommands","setRedoCommands","newRedoCommands"],"mappings":"AAAA,SAASA,OAAT,CAAkBC,aAAlB,EAAgC;AAC5B,OAAKC,WAAL,GAAmBD,aAAnB;AACA,OAAKE,aAAL,GAAqB,EAArB;AACA,OAAKC,aAAL,GAAqB,EAArB;AACH;;KAJQJ,O;;AAMTA,OAAO,CAACK,SAAR,CAAkBC,OAAlB,GAA6BC,OAAD,IAAa;AACrCA,EAAAA,OAAO,CAACD,OAAR;;AACA,OAAKH,aAAL,CAAmBK,IAAnB,CAAwBD,OAAxB;;AACA,OAAKH,aAAL,CAAmBK,KAAnB;;AACA,SAAO,IAAP;AACH,CALD;;AAOAT,OAAO,CAACK,SAAR,CAAkBK,IAAlB,GAAyB,MAAM;AAC3B,MAAG;AACC,QAAIH,OAAO,GAAG,KAAKJ,aAAL,CAAmBQ,GAAnB,EAAd;;AACAJ,IAAAA,OAAO,CAACK,SAAR;AACAC,IAAAA,YAAY,CAACL,IAAb,CAAkBD,OAAlB;AACH,GAJD,CAIC,OAAMO,KAAN,EAAY,CAAE;;AACf,SAAO,IAAP;AACH,CAPD;;AASAd,OAAO,CAACK,SAAR,CAAkBU,IAAlB,GAAyB,MAAM;AAC3B,MAAG;AACC,QAAIR,OAAO,GAAGM,YAAY,CAACF,GAAb,EAAd;AACAJ,IAAAA,OAAO,CAACD,OAAR;AACAU,IAAAA,YAAY,CAACR,IAAb,CAAkBD,OAAlB;AACH,GAJD,CAIC,OAAMO,KAAN,EAAY,CAAE;;AACf,SAAO,IAAP;AACH,CAPD;;AASAd,OAAO,CAACK,SAAR,CAAkBY,MAAlB,GAA2B,MAAM;AAC7BC,EAAAA,UAAU,CAACD,MAAX;AACA,SAAO,IAAP;AACH,CAHD;;AAKAjB,OAAO,CAACK,SAAR,CAAkBc,aAAlB,GAAkC,MAAM;AACpC,SAAOD,UAAP;AACH,CAFD;;AAIAlB,OAAO,CAACK,SAAR,CAAkBe,aAAlB,GAAmCnB,aAAD,IAAmB;AACjDiB,EAAAA,UAAU,GAAGjB,aAAb;AACH,CAFD;;AAIAD,OAAO,CAACK,SAAR,CAAkBgB,eAAlB,GAAoC,MAAM;AACtC,SAAOL,YAAP;AACH,CAFD;;AAIAhB,OAAO,CAACK,SAAR,CAAkBiB,eAAlB,GAAqCC,eAAD,IAAqB;AACrDP,EAAAA,YAAY,GAAGO,eAAf;AACH,CAFD;;AAIAvB,OAAO,CAACK,SAAR,CAAkBmB,eAAlB,GAAoC,MAAM;AACtC,SAAOX,YAAP;AACH,CAFD;;AAIAb,OAAO,CAACK,SAAR,CAAkBoB,eAAlB,GAAqCC,eAAD,IAAqB;AACrDb,EAAAA,YAAY,GAAGa,eAAf;AACH,CAFD;;AAIA,eAAe1B,OAAf","sourcesContent":["function Invoker (newMiddleware){\n    this._middleware = newMiddleware;\n    this._undoCommands = [];\n    this._redoCommands = [];\n}\n\nInvoker.prototype.execute = (command) => {\n    command.execute();\n    this._undoCommands.push(command);\n    this._redoCommands.clear();\n    return this;\n}\n\nInvoker.prototype.undo = () => {\n    try{\n        let command = this._undoCommands.pop();\n        command.unexecute();\n        redoCommands.push(command);\n    }catch(error){}\n    return this;\n}\n\nInvoker.prototype.redo = () => {\n    try{\n        let command = redoCommands.pop();\n        command.execute();\n        undoCommands.push(command);\n    }catch(error){}\n    return this;\n}\n\nInvoker.prototype.commit = () => {\n    middleware.commit();\n    return this;\n}\n\nInvoker.prototype.getMiddleware = () => {\n    return middleware;\n}\n\nInvoker.prototype.setMiddleware = (newMiddleware) => {\n    middleware = newMiddleware; \n}\n\nInvoker.prototype.getUndoCommands = () => {\n    return undoCommands;\n}\n\nInvoker.prototype.setUndoCommands = (newUndoCommands) => {\n    undoCommands = newUndoCommands;\n}\n\nInvoker.prototype.getRedoCommands = () => {\n    return redoCommands;\n}\n\nInvoker.prototype.setRedoCommands = (newRedoCommands) => {\n    redoCommands = newRedoCommands;\n}\n\nexport default Invoker;"]},"metadata":{},"sourceType":"module"}