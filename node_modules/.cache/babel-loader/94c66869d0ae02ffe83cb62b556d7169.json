{"ast":null,"code":"function Middleware(newDao) {\n  this._dao = newDao;\n  this._objects = [];\n}\n\n_c = Middleware;\n\nMiddleware.prototype.getDAO = () => {\n  return this._dao;\n};\n\nMiddleware.prototype.setDAO = newDao => {\n  this._dao = newDao;\n};\n\nMiddleware.prototype.getObjects = () => {\n  return this._objects;\n};\n\nMiddleware.prototype.setObjects = newObjects => {\n  this._objects = newObjects;\n};\n\nMiddleware.prototype.addDocument = object => {\n  this._objects.push(object);\n};\n\nMiddleware.prototype.removeDocument = object => {\n  this._objects = this._objects.filter(o => o.id !== object.id);\n};\n\nMiddleware.prototype.updateDocument = object => {\n  let previousObjects = this._object.filter(o => o.id !== object.id);\n\n  this._objects = [previousObjects, object];\n};\n\nMiddleware.prototype.commit = () => {\n  this._dao.write(this._objects);\n};\n\nexport default Middleware;\n\nvar _c;\n\n$RefreshReg$(_c, \"Middleware\");","map":{"version":3,"sources":["/home/msk/Downloads/design/src/pattern/Middleware.js"],"names":["Middleware","newDao","_dao","_objects","prototype","getDAO","setDAO","getObjects","setObjects","newObjects","addDocument","object","push","removeDocument","filter","o","id","updateDocument","previousObjects","_object","commit","write"],"mappings":"AAAA,SAASA,UAAT,CAAqBC,MAArB,EAA6B;AACzB,OAAKC,IAAL,GAAYD,MAAZ;AACA,OAAKE,QAAL,GAAgB,EAAhB;AACH;;KAHQH,U;;AAKTA,UAAU,CAACI,SAAX,CAAqBC,MAArB,GAA8B,MAAM;AAChC,SAAO,KAAKH,IAAZ;AACH,CAFD;;AAIAF,UAAU,CAACI,SAAX,CAAqBE,MAArB,GAA+BL,MAAD,IAAY;AACtC,OAAKC,IAAL,GAAYD,MAAZ;AACH,CAFD;;AAIAD,UAAU,CAACI,SAAX,CAAqBG,UAArB,GAAkC,MAAM;AACpC,SAAO,KAAKJ,QAAZ;AACH,CAFD;;AAIAH,UAAU,CAACI,SAAX,CAAqBI,UAArB,GAAmCC,UAAD,IAAgB;AAC9C,OAAKN,QAAL,GAAgBM,UAAhB;AACH,CAFD;;AAIAT,UAAU,CAACI,SAAX,CAAqBM,WAArB,GAAoCC,MAAD,IAAY;AAC3C,OAAKR,QAAL,CAAcS,IAAd,CAAmBD,MAAnB;AACH,CAFD;;AAIAX,UAAU,CAACI,SAAX,CAAqBS,cAArB,GAAuCF,MAAD,IAAY;AAC9C,OAAKR,QAAL,GAAgB,KAAKA,QAAL,CAAcW,MAAd,CAAqBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACK,EAA1C,CAAhB;AACH,CAFD;;AAIAhB,UAAU,CAACI,SAAX,CAAqBa,cAArB,GAAuCN,MAAD,IAAY;AAC9C,MAAIO,eAAe,GAAG,KAAKC,OAAL,CAAaL,MAAb,CAAoBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACK,EAAzC,CAAtB;;AACA,OAAKb,QAAL,GAAgB,CAAEe,eAAF,EAAmBP,MAAnB,CAAhB;AACH,CAHD;;AAKAX,UAAU,CAACI,SAAX,CAAqBgB,MAArB,GAA8B,MAAM;AAChC,OAAKlB,IAAL,CAAUmB,KAAV,CAAgB,KAAKlB,QAArB;AACH,CAFD;;AAIA,eAAeH,UAAf","sourcesContent":["function Middleware (newDao) {\n    this._dao = newDao;\n    this._objects = []; \n}\n\nMiddleware.prototype.getDAO = () => {\n    return this._dao;\n}\n\nMiddleware.prototype.setDAO = (newDao) => {\n    this._dao = newDao;\n}\n\nMiddleware.prototype.getObjects = () => {\n    return this._objects;\n}\n\nMiddleware.prototype.setObjects = (newObjects) => {\n    this._objects = newObjects;\n}\n\nMiddleware.prototype.addDocument = (object) => {\n    this._objects.push(object);\n}\n\nMiddleware.prototype.removeDocument = (object) => {\n    this._objects = this._objects.filter(o => o.id !== object.id)\n}\n\nMiddleware.prototype.updateDocument = (object) => {\n    let previousObjects = this._object.filter(o => o.id !== object.id);\n    this._objects = [ previousObjects, object ];\n}\n\nMiddleware.prototype.commit = () => {\n    this._dao.write(this._objects);\n}\n\nexport default Middleware;"]},"metadata":{},"sourceType":"module"}