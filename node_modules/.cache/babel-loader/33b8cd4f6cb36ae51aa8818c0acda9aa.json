{"ast":null,"code":"class Middleware {\n  constructor(newDao) {\n    this._dao = newDao;\n    this._objects = [];\n  }\n\n  getDAO() {\n    return this._dao;\n  }\n\n  setDAO(newDao) {\n    this._dao = newDao;\n  }\n\n  getObjects() {\n    return this._objects;\n  }\n\n  setObjects(newObjects) {\n    this._objects = newObjects;\n  }\n\n  addDocument(object) {\n    this._objects.push(object);\n  }\n\n  removeDocument(object) {\n    this._objects = this._objects.filter(o => o.id !== object.id);\n  }\n\n  updateDocument(object) {\n    let previousObjects = this._object.filter(o => o.id !== object.id);\n\n    this._objects = [previousObjects, object];\n  }\n\n  commit() {\n    this._dao.write(this._objects);\n  }\n\n}\n\nexport default Middleware;","map":{"version":3,"sources":["/home/msk/Downloads/design/src/pattern/Middleware.js"],"names":["Middleware","constructor","newDao","_dao","_objects","getDAO","setDAO","getObjects","setObjects","newObjects","addDocument","object","push","removeDocument","filter","o","id","updateDocument","previousObjects","_object","commit","write"],"mappings":"AAAA,MAAMA,UAAN,CAAiB;AACbC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,SAAKC,IAAL,GAAYD,MAAZ;AACA,SAAKE,QAAL,GAAgB,EAAhB;AACH;;AACDC,EAAAA,MAAM,GAAG;AACL,WAAO,KAAKF,IAAZ;AACH;;AACDG,EAAAA,MAAM,CAACJ,MAAD,EAAS;AACX,SAAKC,IAAL,GAAYD,MAAZ;AACH;;AACDK,EAAAA,UAAU,GAAG;AACT,WAAO,KAAKH,QAAZ;AACH;;AACDI,EAAAA,UAAU,CAACC,UAAD,EAAa;AACnB,SAAKL,QAAL,GAAgBK,UAAhB;AACH;;AACDC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,SAAKP,QAAL,CAAcQ,IAAd,CAAmBD,MAAnB;AACH;;AACDE,EAAAA,cAAc,CAACF,MAAD,EAAS;AACnB,SAAKP,QAAL,GAAgB,KAAKA,QAAL,CAAcU,MAAd,CAAqBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACK,EAA1C,CAAhB;AACH;;AACDC,EAAAA,cAAc,CAACN,MAAD,EAAS;AACnB,QAAIO,eAAe,GAAG,KAAKC,OAAL,CAAaL,MAAb,CAAoBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACK,EAAzC,CAAtB;;AACA,SAAKZ,QAAL,GAAgB,CAACc,eAAD,EAAkBP,MAAlB,CAAhB;AACH;;AACDS,EAAAA,MAAM,GAAG;AACL,SAAKjB,IAAL,CAAUkB,KAAV,CAAgB,KAAKjB,QAArB;AACH;;AA7BY;;AA+BjB,eAAeJ,UAAf","sourcesContent":["class Middleware {\n    constructor(newDao) {\n        this._dao = newDao;\n        this._objects = [];\n    }\n    getDAO() {\n        return this._dao;\n    }\n    setDAO(newDao) {\n        this._dao = newDao;\n    }\n    getObjects() {\n        return this._objects;\n    }\n    setObjects(newObjects) {\n        this._objects = newObjects;\n    }\n    addDocument(object) {\n        this._objects.push(object);\n    }\n    removeDocument(object) {\n        this._objects = this._objects.filter(o => o.id !== object.id);\n    }\n    updateDocument(object) {\n        let previousObjects = this._object.filter(o => o.id !== object.id);\n        this._objects = [previousObjects, object];\n    }\n    commit() {\n        this._dao.write(this._objects);\n    }\n}\nexport default Middleware;"]},"metadata":{},"sourceType":"module"}