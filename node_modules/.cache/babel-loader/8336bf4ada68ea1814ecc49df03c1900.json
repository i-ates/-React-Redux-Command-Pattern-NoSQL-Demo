{"ast":null,"code":"const Invoker = newMiddleware => {\n  this._middleware = newMiddleware;\n  this._undoCommands = [];\n  this._redoCommands = [];\n};\n\n_c = Invoker;\n\nInvoker.prototype.execute = command => {\n  command.execute();\n\n  this._undoCommands.push(command);\n\n  this._redoCommands.clear();\n\n  return this;\n};\n\nInvoker.prototype.undo = () => {\n  try {\n    let command = this._undoCommands.pop();\n\n    command.unexecute();\n\n    this._redoCommands.push(command);\n  } catch (error) {}\n\n  return this;\n};\n\nInvoker.prototype.redo = () => {\n  try {\n    let command = this._redoCommands.pop();\n\n    command.execute();\n\n    this._undoCommands.push(command);\n  } catch (error) {}\n\n  return this;\n};\n\nInvoker.prototype.commit = () => {\n  this._middleware.commit();\n\n  return this;\n};\n\nInvoker.prototype.getMiddleware = () => {\n  return this._middleware;\n};\n\nInvoker.prototype.setMiddleware = newMiddleware => {\n  this._middleware = newMiddleware;\n};\n\nInvoker.prototype.getUndoCommands = () => {\n  return this._undoCommands;\n};\n\nInvoker.prototype.setUndoCommands = newUndoCommands => {\n  this._undoCommands = newUndoCommands;\n};\n\nInvoker.prototype.getRedoCommands = () => {\n  return this._redoCommands;\n};\n\nInvoker.prototype.setRedoCommands = newRedoCommands => {\n  this._redoCommands = newRedoCommands;\n};\n\nexport default Invoker;\n\nvar _c;\n\n$RefreshReg$(_c, \"Invoker\");","map":{"version":3,"sources":["/home/msk/Downloads/design/src/pattern/Invoker.js"],"names":["Invoker","newMiddleware","_middleware","_undoCommands","_redoCommands","prototype","execute","command","push","clear","undo","pop","unexecute","error","redo","commit","getMiddleware","setMiddleware","getUndoCommands","setUndoCommands","newUndoCommands","getRedoCommands","setRedoCommands","newRedoCommands"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,aAAa,IAAI;AAC7B,OAAKC,WAAL,GAAmBD,aAAnB;AACA,OAAKE,aAAL,GAAqB,EAArB;AACA,OAAKC,aAAL,GAAqB,EAArB;AACH,CAJD;;KAAMJ,O;;AAMNA,OAAO,CAACK,SAAR,CAAkBC,OAAlB,GAA6BC,OAAD,IAAa;AACrCA,EAAAA,OAAO,CAACD,OAAR;;AACA,OAAKH,aAAL,CAAmBK,IAAnB,CAAwBD,OAAxB;;AACA,OAAKH,aAAL,CAAmBK,KAAnB;;AACA,SAAO,IAAP;AACH,CALD;;AAOAT,OAAO,CAACK,SAAR,CAAkBK,IAAlB,GAAyB,MAAM;AAC3B,MAAG;AACC,QAAIH,OAAO,GAAG,KAAKJ,aAAL,CAAmBQ,GAAnB,EAAd;;AACAJ,IAAAA,OAAO,CAACK,SAAR;;AACA,SAAKR,aAAL,CAAmBI,IAAnB,CAAwBD,OAAxB;AACH,GAJD,CAIC,OAAMM,KAAN,EAAY,CAAE;;AACf,SAAO,IAAP;AACH,CAPD;;AASAb,OAAO,CAACK,SAAR,CAAkBS,IAAlB,GAAyB,MAAM;AAC3B,MAAG;AACC,QAAIP,OAAO,GAAG,KAAKH,aAAL,CAAmBO,GAAnB,EAAd;;AACAJ,IAAAA,OAAO,CAACD,OAAR;;AACA,SAAKH,aAAL,CAAmBK,IAAnB,CAAwBD,OAAxB;AACH,GAJD,CAIC,OAAMM,KAAN,EAAY,CAAE;;AACf,SAAO,IAAP;AACH,CAPD;;AASAb,OAAO,CAACK,SAAR,CAAkBU,MAAlB,GAA2B,MAAM;AAC7B,OAAKb,WAAL,CAAiBa,MAAjB;;AACA,SAAO,IAAP;AACH,CAHD;;AAKAf,OAAO,CAACK,SAAR,CAAkBW,aAAlB,GAAkC,MAAM;AACpC,SAAO,KAAKd,WAAZ;AACH,CAFD;;AAIAF,OAAO,CAACK,SAAR,CAAkBY,aAAlB,GAAmChB,aAAD,IAAmB;AACjD,OAAKC,WAAL,GAAmBD,aAAnB;AACH,CAFD;;AAIAD,OAAO,CAACK,SAAR,CAAkBa,eAAlB,GAAoC,MAAM;AACtC,SAAO,KAAKf,aAAZ;AACH,CAFD;;AAIAH,OAAO,CAACK,SAAR,CAAkBc,eAAlB,GAAqCC,eAAD,IAAqB;AACrD,OAAKjB,aAAL,GAAqBiB,eAArB;AACH,CAFD;;AAIApB,OAAO,CAACK,SAAR,CAAkBgB,eAAlB,GAAoC,MAAM;AACtC,SAAO,KAAKjB,aAAZ;AACH,CAFD;;AAIAJ,OAAO,CAACK,SAAR,CAAkBiB,eAAlB,GAAqCC,eAAD,IAAqB;AACrD,OAAKnB,aAAL,GAAqBmB,eAArB;AACH,CAFD;;AAIA,eAAevB,OAAf","sourcesContent":["const Invoker = newMiddleware => {\n    this._middleware = newMiddleware;\n    this._undoCommands = [];\n    this._redoCommands = [];\n}\n\nInvoker.prototype.execute = (command) => {\n    command.execute();\n    this._undoCommands.push(command);\n    this._redoCommands.clear();\n    return this;\n}\n\nInvoker.prototype.undo = () => {\n    try{\n        let command = this._undoCommands.pop();\n        command.unexecute();\n        this._redoCommands.push(command);\n    }catch(error){}\n    return this;\n}\n\nInvoker.prototype.redo = () => {\n    try{\n        let command = this._redoCommands.pop();\n        command.execute();\n        this._undoCommands.push(command);\n    }catch(error){}\n    return this;\n}\n\nInvoker.prototype.commit = () => {\n    this._middleware.commit();\n    return this;\n}\n\nInvoker.prototype.getMiddleware = () => {\n    return this._middleware;\n}\n\nInvoker.prototype.setMiddleware = (newMiddleware) => {\n    this._middleware = newMiddleware; \n}\n\nInvoker.prototype.getUndoCommands = () => {\n    return this._undoCommands;\n}\n\nInvoker.prototype.setUndoCommands = (newUndoCommands) => {\n    this._undoCommands = newUndoCommands;\n}\n\nInvoker.prototype.getRedoCommands = () => {\n    return this._redoCommands;\n}\n\nInvoker.prototype.setRedoCommands = (newRedoCommands) => {\n    this._redoCommands = newRedoCommands;\n}\n\nexport default Invoker;"]},"metadata":{},"sourceType":"module"}